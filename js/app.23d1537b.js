(function(e){function t(t){for(var s,o,i=t[0],u=t[1],l=t[2],m=0,p=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],s=!0,i=1;i<r.length;i++){var u=r[i];0!==a[u]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var s={},a={app:0},n=[];function o(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=s,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var s=r("85ec"),a=r.n(s);a.a},2696:function(e,t,r){"use strict";var s=r("a499"),a=r.n(s);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h1",[e._v("Vue CRUD App")]),r("router-view")],1)},n=[],o=(r("034f"),r("2877")),i={},u=Object(o["a"])(i,a,n,!1,null,null,null),l=u.exports,c=r("8c4f"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Home page")]),r("button",{staticClass:"button",on:{click:e.moveToUserPage}},[e._v("Add user")]),r("hr"),r("Table",{attrs:{users:e.users},on:{"delete-user":e.deleteUser}})],1)},p=[],d=(r("4de4"),r("7db0"),r("d81d"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[e.users.length?r("table",{staticClass:"table"},[r("thead",{staticClass:"table__head"},[r("tr",{staticClass:"table__head-item"},e._l(e.columns,(function(t,s){return r("th",{key:s,staticClass:"table__head-cell"},[e._v(e._s(t))])})),0)]),r("tbody",{staticClass:"table__body"},e._l(e.users,(function(t){return r("TableItem",{key:t.id,attrs:{user:t,columns:e.columns.slice(0,4)},on:{"delete-user":e.deleteUser}})})),1)]):r("p",[e._v("There are no users to display...")])])}),h=[],f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"table__body-item"},[e._l(e.columns,(function(t,s){return r("td",{key:s,staticClass:"table__body-cell"},[e._v(e._s(e.user[t]))])})),r("td",{staticClass:"table__body-cell"},[r("button",{staticClass:"button",on:{click:function(t){return e.$emit("delete-user",e.user.id)}}},[e._v("Delete")])]),r("td",{staticClass:"table__body-cell"},[r("button",{staticClass:"button",on:{click:e.startEdit}},[e._v("Edit")])])],2)},v=[],g={props:{user:{type:Object,required:!0},columns:{type:Array,required:!0}},methods:{startEdit:function(){var e=JSON.stringify(this.user);localStorage.setItem("editUser",e),Z.push("/vue-crud-app/user")}}},b=g,_=Object(o["a"])(b,f,v,!1,null,null,null),U=_.exports,y={props:["users"],data:function(){return{columns:["name","surname","phone","email","delete","edit"]}},components:{TableItem:U},methods:{deleteUser:function(e){this.$emit("delete-user",e)}}},x=y,S=(r("76a5"),Object(o["a"])(x,d,h,!1,null,null,null)),D=S.exports,O={name:"App",mounted:function(){if(localStorage.getItem("users"))try{this.users=JSON.parse(localStorage.getItem("users"))}catch(e){localStorage.removeItem("users")}},data:function(){return{users:[]}},components:{Table:D},methods:{moveToUserPage:function(){localStorage.removeItem("editUser"),Z.push("/vue-crud-app/user")},deleteUser:function(e){this.users=this.users.filter((function(t){return t.id!==e})),this.saveUsers()},addUser:function(e){this.users.push(e),this.saveUsers()},editUser:function(e){this.users=this.users.map((function(t){return t.id===e.id?e:t})),this.saveUsers()},checkDuplicateUser:function(e){return this.users.find((function(t){return t.name===e.name&&t.surname===e.surname&&t.phone===e.phone&&t.email===e.email}))},saveUsers:function(){var e=JSON.stringify(this.users);localStorage.setItem("users",e)}}},j=O,C=Object(o["a"])(j,m,p,!1,null,null,null),N=C.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("User page")]),r("button",{staticClass:"button",on:{click:e.moveToHomePage}},[e._v("Back to Homepage")]),r("hr"),r("div",{staticClass:"main-content"},[r("div",{staticClass:"main-content__item"},[e.errorJSON?r("p",{staticClass:"error-text"},[e._v(e._s(e.errorJSON))]):e._e(),r("label",[e._v(" Uploading data in JSON format "),r("br"),r("br"),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.jsonData,expression:"jsonData"}],staticClass:"json-textarea",attrs:{rows:"8",placeholder:'[\n  {\n    "name": "Tony",\n    "surname": "Hawk",\n    "phone": "111-111-11-11",\n    "email": "1@1.1"\n  }\n]'},domProps:{value:e.jsonData},on:{input:function(t){t.target.composing||(e.jsonData=t.target.value)}}})]),r("button",{staticClass:"button button-import-json",on:{click:e.parseJSON}},[e._v("Import JSON")])]),r("UserForm",{attrs:{errorForm:e.errorForm,existingUser:e.user,userData:e.userData},on:{"on-submit":e.onSubmit}})],1)])},J=[],P=(r("498a"),r("53ca")),k=r("e1bd"),$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-content__item"},[e.errorForm.length?r("div",{staticClass:"error-text"},[r("b",[e._v("Error(s):")]),r("ul",{staticClass:"error-text__list"},e._l(e.errorForm,(function(t,s){return r("li",{key:s},[e._v(e._s(t))])})),0)]):e._e(),r("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.$emit("on-submit",e.existingUser||e.userData,!!e.existingUser)}}},[r("label",[e._v(" Name "),e.existingUser?r("input",{directives:[{name:"model",rawName:"v-model",value:e.existingUser.name,expression:"existingUser.name"}],staticClass:"form__field",attrs:{type:"text",pattern:"^[a-zA-Z]+$",placeholder:"Tony"},domProps:{value:e.existingUser.name},on:{input:function(t){t.target.composing||e.$set(e.existingUser,"name",t.target.value)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.name,expression:"userData.name"}],staticClass:"form__field",attrs:{type:"text",pattern:"^[a-zA-Z]+$",placeholder:"Tony"},domProps:{value:e.userData.name},on:{input:function(t){t.target.composing||e.$set(e.userData,"name",t.target.value)}}})]),r("br"),r("label",[e._v(" Surname "),e.existingUser?r("input",{directives:[{name:"model",rawName:"v-model",value:e.existingUser.surname,expression:"existingUser.surname"}],staticClass:"form__field",attrs:{type:"text",pattern:"^[a-zA-Z]+$",placeholder:"Hawk"},domProps:{value:e.existingUser.surname},on:{input:function(t){t.target.composing||e.$set(e.existingUser,"surname",t.target.value)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.surname,expression:"userData.surname"}],staticClass:"form__field",attrs:{type:"text",pattern:"^[a-zA-Z]+$",placeholder:"Hawk"},domProps:{value:e.userData.surname},on:{input:function(t){t.target.composing||e.$set(e.userData,"surname",t.target.value)}}})]),r("br"),r("label",[e._v(" Phone "),e.existingUser?r("input",{directives:[{name:"model",rawName:"v-model",value:e.existingUser.phone,expression:"existingUser.phone"}],staticClass:"form__field",attrs:{type:"tel",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{2}-[0-9]{2}",placeholder:"111-111-11-11"},domProps:{value:e.existingUser.phone},on:{input:function(t){t.target.composing||e.$set(e.existingUser,"phone",t.target.value)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.phone,expression:"userData.phone"}],staticClass:"form__field",attrs:{type:"tel",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{2}-[0-9]{2}",placeholder:"111-111-11-11"},domProps:{value:e.userData.phone},on:{input:function(t){t.target.composing||e.$set(e.userData,"phone",t.target.value)}}})]),r("br"),r("label",[e._v(" Email "),e.existingUser?r("input",{directives:[{name:"model",rawName:"v-model",value:e.existingUser.email,expression:"existingUser.email"}],staticClass:"form__field",attrs:{type:"email",placeholder:"1@1.1"},domProps:{value:e.existingUser.email},on:{input:function(t){t.target.composing||e.$set(e.existingUser,"email",t.target.value)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.email,expression:"userData.email"}],staticClass:"form__field",attrs:{type:"email",placeholder:"1@1.1"},domProps:{value:e.userData.email},on:{input:function(t){t.target.composing||e.$set(e.userData,"email",t.target.value)}}})]),r("br"),r("button",{staticClass:"button button-save",attrs:{type:"submit"}},[e._v("Save")])])])},I=[],F={props:{errorForm:{type:Array,required:!0},existingUser:Object,userData:Object}},T=F,E=(r("2696"),Object(o["a"])(T,$,I,!1,null,"4a2a2338",null)),A=E.exports,H={data:function(){return{users:[],user:null,userData:{name:"",surname:"",phone:"",email:""},jsonData:"",errorJSON:"",errorForm:[]}},components:{UserForm:A},mounted:function(){if(localStorage.getItem("users"))try{this.users=JSON.parse(localStorage.getItem("users"))}catch(e){localStorage.removeItem("users")}if(localStorage.getItem("editUser"))try{this.user=JSON.parse(localStorage.getItem("editUser"))}catch(e){localStorage.removeItem("editUser")}},methods:{addUser:N.methods.addUser,editUser:N.methods.editUser,saveUsers:N.methods.saveUsers,checkDuplicateUser:N.methods.checkDuplicateUser,moveToHomePage:function(){localStorage.removeItem("editUser"),Z.push("/vue-crud-app/")},IsJsonString:function(e){try{JSON.parse(e)}catch(t){return!1}return!0},parseJSON:function(){var e=this.IsJsonString(this.jsonData)?JSON.parse(this.jsonData):this.jsonData,t=Object(P["a"])(e);"string"!==t&&Array.isArray(e)&&"[object Object]"===String(e[0])?(this.userData.name=e[0].name||this.userData.name,this.userData.surname=e[0].surname||this.userData.surname,this.userData.phone=e[0].phone||this.userData.phone,this.userData.email=e[0].email||this.userData.email,this.jsonData=null,this.errorJSON=""):String(e).length?this.errorJSON="Error: Wrong structure of JSON!":this.errorJSON="Error: JSON is empty!"},checkForm:function(e){if(e.name.trim()&&e.surname.trim()&&e.phone.trim()&&e.email.trim())return!0;this.errorForm=[],e.name||this.errorForm.push("Name required."),e.surname||this.errorForm.push("Surname required."),e.phone||this.errorForm.push("Phone required."),e.email||this.errorForm.push("Email required.")},onSubmit:function(e,t){if(this.checkForm(e)){if(this.errorForm=[],e.id=t?this.user.id:Object(k["a"])(),t)this.editUser(e),localStorage.removeItem("user");else{if(this.checkDuplicateUser(e))return void this.errorForm.push("Such user already exists.");this.addUser(e)}this.userData={name:"",surname:"",phone:"",email:""},this.moveToHomePage()}}}},q=H,z=(r("e8c3"),Object(o["a"])(q,w,J,!1,null,null,null)),M=z.exports;s["a"].use(c["a"]);var Z=new c["a"]({mode:"history",routes:[{path:"/vue-crud-app/",component:N},{path:"/vue-crud-app/user",component:M},{path:"*",name:"catchAll",component:N}]});s["a"].config.productionTip=!1,new s["a"]({router:Z,render:function(e){return e(l)}}).$mount("#app")},"694f":function(e,t,r){},"76a5":function(e,t,r){"use strict";var s=r("694f"),a=r.n(s);a.a},"7be2":function(e,t,r){},"85ec":function(e,t,r){},a499:function(e,t,r){},e8c3:function(e,t,r){"use strict";var s=r("7be2"),a=r.n(s);a.a}});
//# sourceMappingURL=app.23d1537b.js.map